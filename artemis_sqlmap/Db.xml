<?xml version="1.0" encoding="UTF-8" ?> 
 
<!DOCTYPE sqlMap 
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd"> 
 

<sqlMap namespace="DbXRef"> 

  <typeAlias alias="Db"
        type="org.gmod.schema.general.Db"/>
        
  <select id="getDbId" parameterClass="Db"
                       resultClass="java.lang.Integer">
    SELECT db_id FROM db WHERE name=#name#
  </select>
  
  <select id="getDbIdIgnoreCase" parameterClass="Db"
                       resultClass="java.lang.Integer">
    SELECT db_id FROM db WHERE lower(name)=lower(#name#)
  </select>
  
  <select id="selectDb" resultClass="Db">
    SELECT * FROM db WHERE db_id=$db_id$
  </select>

</sqlMap>
  